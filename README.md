
# WebSocket 채팅 애플리케이션

## 프로젝트 개요
이 프로젝트는 FastAPI와 WebSocket을 사용하여 실시간 채팅 애플리케이션을 구현합니다. 사용자 정보, 메시지, 채팅방 등의 데이터를 관리하며, 비동기 작업 큐와 Redis를 이용한 캐시 전략을 통해 성능을 최적화합니다.

---

## 주요 기능
- [x] 여러 채팅방 지원
- [x] 실시간 메시지 브로드캐스트
- [x] 사용자별 권한 관리
- [x] 비동기 처리 및 성능 최적화
- [ ] 데이터베이스 연동 (방, 사용자, 메시지 관리) ☐
- [ ] 메시지 저장 정책 설정 ☐
- [ ] Redis 캐시 전략 적용 ☐

---

## 기능 상세

### 1. 데이터베이스 연동 (방, 사용자, 메시지 관리)
- [x] ORM을 사용하여 Room, User, Message 모델 정의
- [ ] 채팅방 정보 저장 (방 이름, 방 ID, 생성 시간 등) ☐
- [ ] 사용자 정보 저장 (사용자 이름, 권한, 방 참여 여부 등) ☐
- [ ] 메시지 정보 저장 (메시지 내용, 송신자, 수신 시간 등) ☐

### 2. 비동기 작업 큐 (Celery)
- [ ] Celery를 이용한 비동기 작업 큐 설정 ☐
- [ ] 메시지 전송, 저장, 알림 처리 비동기화 ☐
- [ ] 비동기 작업 결과 처리 ☐

### 3. 메시지 형식 ORM 정의
- [x] Message 모델 정의 (내용, 송신자, 수신 시간)
- [ ] 메시지의 형식 및 인덱싱 설정 ☐

### 4. 사용자 기능 추가
- [ ] 사용자 가입 및 로그인 기능 ☐
- [ ] JWT를 이용한 인증 및 권한 관리 ☐
- [ ] 실시간 사용자 권한 변경 및 반영 ☐
- [ ] 사용자별 채팅방 권한 관리 ☐

### 5. Redis를 이용한 캐시 전략
- [ ] 메시지 저장 시 Redis 캐시 적용 ☐
- [ ] 자주 조회되는 메시지 및 방 정보 캐시 ☐
- [ ] 캐시 만료 및 갱신 전략 설정 ☐

### 6. DB 쓰기/읽기 분리 및 최적화
- [ ] 읽기/쓰기 작업을 위한 데이터베이스 분리 ☐
- [ ] 읽기 전용 서버로 메시지 읽기 성능 최적화 ☐
- [ ] 트랜잭션 처리를 위한 쓰기 서버 관리 ☐

### 7. 메시지 저장 정책 설정
- [ ] 특정 기간 동안의 메시지 저장 정책 설정 ☐
- [ ] 메시지 삭제 정책 설정 (자동 삭제, 사용자가 요청한 경우 삭제) ☐
- [ ] 이벤트 기반 저장 방식 구현 (중요 이벤트만 저장) ☐

### 8. 성능 최적화 (비동기 처리, 인덱싱, 캐시, 로드밸런싱)
- [ ] Celery와 비동기 작업을 이용한 성능 향상 ☐
- [ ] 데이터베이스 인덱싱을 통한 쿼리 성능 최적화 ☐
- [ ] Redis 캐시를 이용한 자주 조회되는 데이터 캐싱 ☐
- [ ] 읽기/쓰기 분리를 통한 트래픽 최적화 ☐
- [ ] (고민 중) 로드 밸런싱 설정으로 다수의 유저 처리 ☐

### 9. 웹소켓 보안 강화 및 세션 관리
- [ ] WebSocket 연결 보안 강화 (SSL/TLS 적용) ☐
- [ ] 세션 관리 및 만료 처리 ☐
- [ ] 방마다 권한 설정 (관리자/사용자 권한) ☐
- [ ] 실시간 사용자 권한 관리 및 반영 ☐

---

## 진행 상황
- [x] 채팅방 생성 및 메시지 전송 기능 구현 완료
- [x] WebSocket을 통한 실시간 메시지 송수신 구현 완료
- [ ] 데이터베이스 연동 및 메시지 저장 ☐
- [ ] Redis 캐시 전략 및 트래픽 최적화 ☐
- [ ] 사용자 인증 및 권한 관리 기능 추가 ☐
- [ ] 성능 최적화 및 로드밸런싱 ☐

---

## 해야 할 일
- [ ] 데이터베이스 스키마 설계 및 구현
- [ ] Celery 작업 큐 설정 및 메시지 저장 비동기화
- [ ] Redis 캐시를 통한 데이터 조회 속도 최적화
- [ ] 사용자 권한 관리 및 인증 기능 추가
- [ ] 성능 최적화와 관련된 인덱싱 및 캐시 전략 추가

